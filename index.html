<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Picrew link list</title>

    <style>
	    @import url('https://fonts.googleapis.com/css2?family=Comfortaa:wght@500&display=swap');
        :root{
            --thumbnail-height: 8em;
            --accent-color: rgb(167, 219, 249);
        }
        #content{
	        font-family: 'Comfortaa', cursive;
            /*display: flex;
            flex-wrap: wrap;*/
            display: grid;
            /* flex-wrap: wrap; */
            font-family: 'Comfortaa', cursive;
            grid-template-columns: repeat(auto-fit, minmax(var(--thumbnail-height), 1fr));
            width: 100%;
            gap: 1.5em;
        }
        .item {
            /*margin: 0.5em;*/
            position: relative;
        }
        .item a img{
            height: var(--thumbnail-height);
        }
        i.backup-mark{
            /*content: "✔ Backed up";*/
            color: white;
            background: green;
            padding: 0.1em;
            text-decoration: none;
            cursor: pointer;
        }
        i.backup-mark:before{
            content: "↓";
        }

        .download-panel {
            display: flex;
            flex-direction: column;
            border: 1px solid;
            padding: 0.25em;
        }
        .download-panel h5{
            margin: 0px;
        }
        h5.bottom {
            margin: 0px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            flex-wrap: wrap;
        }
        .toggle{
            display: none;
        }
        .download-panel{
            display: none;
        }
        .toggle:checked + .download-panel{
            display: flex;
        }
        body{
            background-color: rgb(22, 22, 49);
            color:var(--accent-color);
            font-family: 'Comfortaa', cursive;
        }

        .overlay {
            width: 100%;
            position: absolute;
            bottom: 0;
            /* background-image: linear-gradient(180deg, black, transparent); */
            display: flex;
            justify-content: space-between;
        }

        .overlay .title{
            margin-block: 0.5em;
            background: rgba(0,0,0,1);
            color:var(--accent-color);
            width: fit-content;
            padding: 0.2rem;
            margin-left: 0.2rem;
            border-radius: 4px;
            border: 1px solid;
            text-overflow: ellipsis;
            max-width: 50%;
            font-size: .8rem;
            overflow-x: clip;
        }
        .download-button{
            margin-block: 0.5em;
            color: black;
            text-decoration: none;
            font-weight: bolder;
            background: #8bc34a;
            width: fit-content;
            padding: 0.2rem;
            margin-right: 0.2rem;
            border-radius: 4px;
            border: 1px solid black;
            text-overflow: ellipsis;
            /* max-width: 50%; */
            font-size: .8rem;
            overflow-x: clip;
            width: 1em;
            display: block;
            text-align: center;
        }
        .item .imgwrapper {
            height: 100%;
            width: 100%;
            display: flex;
        }
        .imgwrapper img {
            max-height: 100%;
            max-width: 100%;
        }
    </style>
</head>
<body>
    <h1>Picrew Link list</h1>
    <h3>By <a href="https://martinz.dev">Martinz64</a></h3> 
    <div id="content"></div>

    <script>
        document.addEventListener("DOMContentLoaded", async ()=>{

            const list = [
                "https://picrew.me/image_maker/682537|https://picrew.me/app/image_maker/682537/icon_RWavT0WTbxbUiyIp.png|b",
                "https://picrew.me/image_maker/394902|https://picrew.me/app/image_maker/394902/icon_R2SVwARquP61HRDg.png|b",
                "https://picrew.me/image_maker/1140280|https://picrew.me/app/image_maker/1140280/icon_uo7wLihNxO5dpTpj.png|b",
                "https://picrew.me/image_maker/7065|https://picrew.me/app/image_maker/7065/icon_ACFNI2toQrRWlbqK.png|b",
                "https://picrew.me/image_maker/365408|https://picrew.me/app/image_maker/365408/icon_85ln0Y4BIQMpzlqp.png",
                "https://picrew.me/image_maker/516657|https://picrew.me/app/image_maker/516657/icon_o2kh052j6zFtSbHx.png",
                "https://picrew.me/image_maker/188948|https://picrew.me/app/image_maker/188948/icon_fNHX6uPZUJGAQMIk.png",
                "https://picrew.me/image_maker/186583|https://picrew.me/app/image_maker/186583/icon_9aIxZDZOwIvypDX1.png",
                "https://picrew.me/secret_image_maker/GWQo0ayzr7bd5eKF|https://picrew.me/app/image_maker/94097/icon_hbYtfzKprZwchS12.png",
                "https://picrew.me/image_maker/272180|https://picrew.me/app/image_maker/272180/icon_R9qJD5Ko2o8FlW2T.png",
                "https://picrew.me/image_maker/58833|https://picrew.me/app/image_maker/58833/icon_iTGtNwnmH0V4R9Sl.png",
                "https://picrew.me/image_maker/599056|https://picrew.me/app/image_maker/599056/icon_Yjn1Cdz1nuyXRKUx.png",
                "https://picrew.me/image_maker/626197|https://picrew.me/app/image_maker/626197/icon_cMwgM6OtTP8X6r9P.jpg",
                "https://picrew.me/image_maker/1515476|https://picrew.me/app/image_maker/1515476/icon_tei8ZXrcEmE9uUEi.png",
                "https://picrew.me/image_maker/239890|https://picrew.me/app/image_maker/239890/icon_PsRqtMMIUXuSLj4t.png",
                "https://picrew.me/image_maker/947708|https://picrew.me/app/image_maker/947708/icon_PiRTf3Af16vdKlKs.png",
                "https://picrew.me/image_maker/166225|https://picrew.me/app/image_maker/166225/icon_2sxBGQM1XO4iUR3F.png",
                "https://picrew.me/image_maker/1051098|https://picrew.me/app/image_maker/1051098/icon_afYUGaQPBlJJGePh.png",
                "https://picrew.me/image_maker/620383|https://picrew.me/app/image_maker/620383/icon_Z1eihtadhKT4yPGV.png",
                "https://picrew.me/image_maker/1300090|https://picrew.me/app/image_maker/1300090/icon_aw2bQRZgRNiGKFsS.png",
                "https://picrew.me/image_maker/100365|https://picrew.me/app/image_maker/100365/icon_hveJYNTMTmdn8L5g.png",
                "https://picrew.me/image_maker/368839|https://picrew.me/app/image_maker/368839/icon_h5fVXpIr0YwvVoeU.png",
                "https://picrew.me/image_maker/271429|https://picrew.me/app/image_maker/271429/icon_ID64mSAc5wxPtmvs.png",
                "https://picrew.me/image_maker/424605|https://picrew.me/app/image_maker/424605/icon_EEZuBHR9QTSfSeU7.png",

                "https://picrew.me/image_maker/338886|https://picrew.me/app/image_maker/338886/icon_wOO83dbsoHLwOs5x.png",
                "https://picrew.me/image_maker/239829|https://picrew.me/app/image_maker/239829/icon_Ufn5HH3HkeEQy5ld.png",
                "https://picrew.me/image_maker/701767|https://picrew.me/app/image_maker/701767/icon_JmXIV8sjgGZD4p9D.png",
                "https://picrew.me/image_maker/135028|https://picrew.me/app/image_maker/135028/icon_paVOr7YhEvwzJkTS.png",
                "https://picrew.me/image_maker/183050|https://picrew.me/app/image_maker/183050/icon_q4wBzH0Sn9fsgtE5.png",
                "https://picrew.me/secret_image_maker/ssP8yKWwLibeazvC|https://picrew.me/app/image_maker/1365528/icon_FCiVTftdkYTw3NGJ.png",
                "https://picrew.me/image_maker/1700192|https://picrew.me/app/image_maker/1700192/icon_nDLxB8UOEzpGfE6q.png",
                "https://picrew.me/image_maker/395214|https://picrew.me/app/image_maker/395214/icon_8ZOJt1lPIncZMUCE.png",
                "https://picrew.me/secret_image_maker/9FA1DqSHdHbebP8R|https://picrew.me/app/image_maker/1667793/icon_BIHAw3bTqFOdcY5K.png",
                "https://picrew.me/image_maker/1689727|https://picrew.me/app/image_maker/1689727/icon_YxOIr6u1MgRdBHC2.png",
                "https://picrew.me/image_maker/8025|https://picrew.me/app/image_maker/8025/icon_AxPDaT4HhGSC2Ajx.png",
                "https://picrew.me/image_maker/167775|https://picrew.me/app/image_maker/167775/icon_tLv8V2M7oJOhpblS.png",

                "https://picrew.me/image_maker/22352|https://picrew.me/app/image_maker/22352/icon_9CfAZlBoST8WiwZe.png"
            ]

            let backup_links_req = await fetch("backup-links.json")
            let backup_links = await backup_links_req.json()


            let html = "";
            for (let i = 0; i < list.length; i++) {
                const url = list[i].split("|")[0];
                const img = list[i].split("|")[1];
                const url_text = url.replace(/.*image_maker\//,"") 

                const title = url_text
                html += `
                <div class="item">
                    <a href="${url}">
                        <div>
                            
                            <div class="imgwrapper">
                                
                                <img src="${img}"/>
                                
                            </div>
                            <div class="overlay">
                                <p class="title">${title}</p>
                            </div>
                        </div>
                    </a>
                </div>
                `
                //
            }
            console.log(html)
            document.getElementById("content").innerHTML = html
        })
    </script>
</body>
</html>
